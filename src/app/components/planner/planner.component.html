<div class="planner-card">
    <div class="planner-copy">
        <p class="eyebrow">Planner</p>
        <h1>Personalize your budget</h1>
        <p class="lead">
            Answer the basics so your budget stays accurate.
        </p>
        @if (hasSaved) {
            <div class="planner-status">
                Planner saved. You can reset to edit.
            </div>
        }
    </div>

    <form class="planner-form" [formGroup]="plannerForm" (ngSubmit)="savePlanner()">
        <div class="form-section">
            <h2>Basics</h2>
            <div class="form-grid">
                <div>
                    <label class="form-label">Household name</label>
                    <input class="form-control" formControlName="householdName" placeholder="Beaubien">
                    @if (plannerForm.get('householdName')?.touched && plannerForm.get('householdName')?.invalid) {
                        <div class="form-error">Required.</div>
                    }
                </div>
                <div>
                    <label class="form-label">Budget name</label>
                    <input class="form-control" formControlName="budgetName" placeholder="Primary Budget">
                    @if (plannerForm.get('budgetName')?.touched && plannerForm.get('budgetName')?.invalid) {
                        <div class="form-error">Required.</div>
                    }
                </div>
                <div>
                    <label class="form-label">Budget month</label>
                    <input class="form-control" type="month" formControlName="budgetMonth">
                    @if (plannerForm.get('budgetMonth')?.touched && plannerForm.get('budgetMonth')?.invalid) {
                        <div class="form-error">Required.</div>
                    }
                </div>
                <div>
                    <label class="form-label">Income frequency</label>
                    <select class="form-select" formControlName="incomeFrequency">
                        <option value="">Select one</option>
                        <option value="Monthly">Monthly</option>
                        <option value="Bi-weekly">Bi-weekly</option>
                        <option value="Semi-monthly">Semi-monthly</option>
                        <option value="Weekly">Weekly</option>
                        <option value="Custom">Custom</option>
                    </select>
                    @if (plannerForm.get('incomeFrequency')?.touched && plannerForm.get('incomeFrequency')?.invalid) {
                        <div class="form-error">Required.</div>
                    }
                </div>
                <div>
                    <label class="form-label">Income amount (per pay period)</label>
                    <input class="form-control" type="number" formControlName="incomeAmount" placeholder="0">
                </div>
            </div>
        </div>

        <div class="planner-actions">
            <button class="btn btn-primary btn-lg" type="submit">Save planner</button>
            <button class="btn btn-outline-dark btn-lg" type="button" (click)="resetPlanner()">Reset</button>
        </div>
    </form>
</div>
